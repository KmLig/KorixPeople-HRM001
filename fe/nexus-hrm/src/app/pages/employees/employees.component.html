<div class="p-6 md:p-8">
  <div class="max-w-7xl mx-auto flex flex-col gap-8">
    <!-- Page Heading & Actions -->
    <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
      <div>
        <h1 class="text-2xl md:text-3xl font-bold text-text-main dark:text-white tracking-tight">Employee Directory</h1>
        <p class="text-text-secondary dark:text-gray-400 mt-1">Manage and view all employee information.</p>
      </div>
      <div class="flex gap-3">
        <button class="px-4 py-2.5 rounded-lg border border-border-light dark:border-gray-700 bg-white dark:bg-[#1a202c] text-text-main dark:text-white font-semibold text-sm hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors flex items-center gap-2">
          <span class="material-symbols-outlined text-[18px]">download</span>
          Export
        </button>
        <button class="px-4 py-2.5 rounded-lg bg-primary text-white font-semibold text-sm hover:bg-blue-700 transition-colors shadow-sm shadow-primary/30 flex items-center gap-2">
          <span class="material-symbols-outlined text-[18px]">add</span>
          Add Employee
        </button>
      </div>
    </div>

    <!-- Filter Bar -->
    <div class="bg-white dark:bg-[#1a202c] rounded-xl border border-border-light dark:border-gray-800 shadow-sm p-4">
      <div class="flex flex-col md:flex-row gap-4 items-center justify-between">
        <!-- Left: Search and Count -->
        <div class="flex items-center gap-4 flex-1">
          <div class="relative flex-1 max-w-md">
            <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-text-secondary">
              <span class="material-symbols-outlined">search</span>
            </span>
            <input 
              [(ngModel)]="searchQuery"
              class="block w-full pl-10 pr-3 py-2 border border-border-light dark:border-gray-700 rounded-lg leading-5 bg-background-light text-text-main placeholder-text-secondary focus:outline-none focus:ring-1 focus:ring-primary sm:text-sm transition-shadow" 
              placeholder="Search employees..." 
              type="text"/>
          </div>
          <span class="text-sm text-text-secondary">{{ filteredEmployees().length }} employees</span>
        </div>

        <!-- Right: Filters -->
        <div class="flex items-center gap-3">
          <select 
            [(ngModel)]="selectedDepartment"
            class="px-3 py-2 border border-border-light dark:border-gray-700 rounded-lg bg-white dark:bg-[#1a202c] text-text-main text-sm focus:outline-none focus:ring-1 focus:ring-primary">
            <option value="all">All Departments</option>
            @for (dept of departments(); track dept) {
              <option [value]="dept">{{ dept }}</option>
            }
          </select>
          <select 
            [(ngModel)]="selectedStatus"
            class="px-3 py-2 border border-border-light dark:border-gray-700 rounded-lg bg-white dark:bg-[#1a202c] text-text-main text-sm focus:outline-none focus:ring-1 focus:ring-primary">
            <option value="all">All Status</option>
            <option value="active">Active</option>
            <option value="inactive">Inactive</option>
            <option value="on-leave">On Leave</option>
          </select>
        </div>
      </div>
    </div>

    <!-- Table -->
    <div class="bg-white dark:bg-[#1a202c] rounded-xl border border-border-light dark:border-gray-800 shadow-sm overflow-hidden">
      <div class="overflow-x-auto">
        <table class="w-full text-left border-collapse">
          <thead class="bg-slate-50 dark:bg-slate-800/50 text-slate-500">
            <tr>
              <th class="px-6 py-4 text-xs font-semibold uppercase tracking-wider">Employee</th>
              <th class="px-6 py-4 text-xs font-semibold uppercase tracking-wider">Department</th>
              <th class="px-6 py-4 text-xs font-semibold uppercase tracking-wider">Position</th>
              <th class="px-6 py-4 text-xs font-semibold uppercase tracking-wider">Status</th>
              <th class="px-6 py-4 text-xs font-semibold uppercase tracking-wider">Join Date</th>
              <th class="px-6 py-4 text-xs font-semibold uppercase tracking-wider text-right">Actions</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-slate-100 dark:divide-slate-800">
            @for (employee of filteredEmployees(); track employee.id) {
              <tr class="hover:bg-slate-50 dark:hover:bg-slate-800/30 transition-colors">
                <td class="px-6 py-4 whitespace-nowrap">
                  <div class="flex items-center gap-3">
                    <div class="size-10 rounded-full bg-cover bg-center" [style.background-image]="'url(' + employee.avatar + ')'"></div>
                    <div>
                      <p class="text-sm font-bold text-text-main dark:text-white">{{ employee.name }}</p>
                      <p class="text-xs text-text-secondary">{{ employee.email }}</p>
                    </div>
                  </div>
                </td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <span class="text-sm text-text-main dark:text-white">{{ employee.department }}</span>
                </td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <span class="text-sm text-text-main dark:text-white">{{ employee.position }}</span>
                </td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <span class="inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-semibold border" [ngClass]="getStatusClass(employee.status)">
                    {{ employee.status }}
                  </span>
                </td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <span class="text-sm text-text-secondary">{{ employee.joinDate }}</span>
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-right">
                  <a [routerLink]="['/employees', employee.id]" class="text-primary hover:underline text-sm font-medium">View</a>
                </td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
